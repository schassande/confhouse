<header class="main-menu">
  <div class="menu-left">
    <img routerLink="/"  ngOptimizedImage src="assets/logo.png" width="36" height="36" alt="Logo" class="logo" />
  </div>
  <div class="menu-right">
    @if (person()) {
      @if (person()?.isPlatformAdmin) {
        <p-menu #adminMenu [popup]="true" [model]="adminMenuItems()"></p-menu>
        <button pButton type="button" class="admin-btn" label="{{ 'MENU.ADMIN' | translate }}" (click)="adminMenu.toggle($event)"></button>
      }
      <p-menu #avatarMenu [popup]="true" [model]="avatarMenuItems()"></p-menu>
      <button pButton type="button" class="avatar-btn" [label]="''" pTooltip="{{ 'MENU.PROFILE' | translate }}" (click)="avatarMenu.toggle($event)">
        <p-avatar icon="pi pi-user" shape="circle"></p-avatar>
      </button>
    } @else {
      <a routerLink="/signup" class="menu-link">{{ 'MENU.SIGNUP' | translate }}</a>
      <a routerLink="/login" class="menu-link">{{ 'MENU.LOGIN' | translate }}</a>
    }
    <button type="button" class="lang-btn" (click)="languageMenu.toggle($event)" [attr.aria-label]="('MENU.LANGUAGE' | translate)">
      <img ngOptimizedImage class="flag" [src]="currentFlagPath()" width="24" height="16" alt="" />
    </button>
    <p-menu #languageMenu [popup]="true" [model]="languageMenuItems()" styleClass="language-menu-panel">
      <ng-template pTemplate="item" let-item>
        <div class="lang-item">
          <img ngOptimizedImage class="flag" [src]="item.icon" width="18" height="12" alt="" />
          <span>{{ item.label }}</span>
        </div>
      </ng-template>
    </p-menu>
  </div>
</header>
